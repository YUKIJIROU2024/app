<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ëøî„Åó„ÅÆÈÅî‰∫∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Meiryo', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 100%;
            padding: 30px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        h1 {
            color: #333;
            font-size: 2em;
            margin-bottom: 8px;
        }

        .subtitle {
            color: #666;
            font-size: 0.95em;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 25px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.85em;
            color: #888;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
        }

        .chat-container {
            background: #f5f6fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 250px;
            max-height: 350px;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 15px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .speaker-label {
            font-size: 0.85em;
            color: #888;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .message-bubble {
            padding: 15px 18px;
            border-radius: 15px;
            line-height: 1.6;
            font-size: 1.05em;
        }

        .friend-message {
            background: white;
            color: #333;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            position: relative;
        }

        .your-response {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: 50px;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }

        .situation-tag {
            display: inline-block;
            padding: 4px 12px;
            background: #ffeaa7;
            color: #d63031;
            border-radius: 20px;
            font-size: 0.85em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .input-section {
            margin-top: 20px;
        }

        .response-input {
            width: 100%;
            padding: 15px;
            font-size: 1.05em;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            transition: all 0.3s;
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }

        .response-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            padding: 12px 24px;
            font-size: 1em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .submit-btn {
            flex: 2;
            background: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            color: white;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(58, 123, 213, 0.3);
        }

        .hint-btn {
            flex: 1;
            background: #f0f0f0;
            color: #333;
        }

        .hint-btn:hover:not(:disabled) {
            background: #e0e0e0;
        }

        .next-btn {
            flex: 2;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .next-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(245, 87, 108, 0.3);
        }

        .evaluation {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e0e0e0;
            display: none;
        }

        .evaluation.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .score-display {
            text-align: center;
            margin-bottom: 20px;
        }

        .score-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .score-message {
            font-size: 1.2em;
            color: #333;
            margin-top: 10px;
            font-weight: bold;
        }

        .feedback-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .feedback-title {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .good-example {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 12px;
            border-radius: 5px;
            margin-top: 10px;
        }

        .hint-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            display: none;
        }

        .hint-box.show {
            display: block;
        }

        .progress-indicator {
            text-align: center;
            color: #888;
            font-size: 0.9em;
            margin-top: 15px;
        }

        .skill-badges {
            display: flex;
            gap: 8px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .skill-badge {
            padding: 4px 10px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí¨ Ëøî„Åó„ÅÆÈÅî‰∫∫</h1>
            <p class="subtitle">Êó•Â∏∏‰ºöË©±„Åß‰Ωø„Åà„ÇãÈã≠„ÅÑËøî„Åó„Çí„Éû„Çπ„Çø„Éº„Åó„Çà„ÅÜ</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">Á∑èÂêà„Çπ„Ç≥„Ç¢</div>
                <div class="stat-value" id="totalScore">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">Âπ≥ÂùáË©ï‰æ°</div>
                <div class="stat-value" id="averageScore">-</div>
            </div>
            <div class="stat">
                <div class="stat-label">Á∑¥ÁøíÂõûÊï∞</div>
                <div class="stat-value" id="practiceCount">0</div>
            </div>
        </div>

        <div class="chat-container" id="chatContainer">
            <div class="message">
                <div class="speaker-label">„Ç∑„ÉÅ„É•„Ç®„Éº„Ç∑„Éß„É≥</div>
                <div class="situation-tag" id="situationTag">‰ºöË©±„ÇíÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ</div>
            </div>
            <div id="conversationArea">
                <div class="message">
                    <div class="speaker-label">Áõ∏Êâã</div>
                    <div class="message-bubble friend-message" id="friendMessage">
                        „ÄåÊ¨°„ÅÆ‰ºöË©±„Äç„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶Á∑¥Áøí„ÇíÈñãÂßã„Åó„Åæ„Åó„Çá„ÅÜ
                    </div>
                </div>
            </div>
        </div>

        <div class="hint-box" id="hintBox">
            <strong>üí° „Éí„É≥„Éà:</strong>
            <div id="hintText"></div>
        </div>

        <div class="input-section">
            <textarea 
                class="response-input" 
                id="responseInput" 
                placeholder="Áõ∏Êâã„ÅÆË©±„Å´ÂØæ„Åó„Å¶„ÄÅÊ∞ó„ÅÆÂà©„ÅÑ„ÅüËøî„Åó„ÇÑÈã≠„ÅÑ„ÉÑ„ÉÉ„Ç≥„Éü„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ..."
                disabled
            ></textarea>
            
            <div class="button-group">
                <button class="submit-btn" id="submitBtn" onclick="submitResponse()" disabled>
                    Ëøî„Åó„ÇíË©ï‰æ°
                </button>
                <button class="hint-btn" id="hintBtn" onclick="showHint()" disabled>
                    „Éí„É≥„Éà
                </button>
                <button class="next-btn" id="nextBtn" onclick="nextConversation()">
                    Ê¨°„ÅÆ‰ºöË©±
                </button>
            </div>
        </div>

        <div class="evaluation" id="evaluationArea">
            <div class="score-display">
                <div class="score-number" id="scoreNumber">0</div>
                <div class="score-message" id="scoreMessage"></div>
                <div class="skill-badges" id="skillBadges"></div>
            </div>
            
            <div class="feedback-section">
                <div class="feedback-title">„ÅÇ„Å™„Åü„ÅÆËøî„ÅóÔºö</div>
                <div id="userResponse"></div>
            </div>
            
            <div class="feedback-section">
                <div class="feedback-title">„Éó„É≠„ÅÆËøî„Åó‰æãÔºö</div>
                <div class="good-example" id="goodExample"></div>
                <div class="feedback-title" style="margin-top: 15px;">„Éù„Ç§„É≥„ÉàËß£Ë™¨Ôºö</div>
                <div id="explanation"></div>
            </div>
        </div>

        <div class="progress-indicator" id="progressIndicator">
            Á∑¥Áøí <span id="currentRound">0</span> / 10
        </div>
    </div>

    <script>
        const conversations = [
            {
                situation: "Âèã‰∫∫„Å®„ÅÆÈõëË´á",
                message: "ÊúÄËøë„Åï„ÄÅÊúùÊ¥ªÂßã„ÇÅ„Åü„Çì„Å†„Çà„Å≠„ÄÇÊØéÊúù5ÊôÇ„Å´Ëµ∑„Åç„Å¶„Ç∏„Éß„ÇÆ„É≥„Ç∞„Åó„Å¶„ÄÅ„Åù„ÅÆ„ÅÇ„Å®„Çπ„É†„Éº„Ç∏„Éº‰Ωú„Å£„Å¶„ÄÅÁûëÊÉ≥„Åó„Å¶„ÄÅË™≠Êõ∏„Åó„Å¶„ÄÅ„Åù„Çå„Åã„Çâ‰ªï‰∫ãË°å„Åè„Çà„ÅÜ„Å´„Åó„Å¶„Çã„Çì„Å†„ÄÇ„ÇÇ„ÅÜ3Êó•„ÇÇÁ∂ö„ÅÑ„Å¶„Çã„Åó„ÄÅ„Åì„Çå„ÅØÁøíÊÖ£Âåñ„Åß„Åç„Åù„ÅÜ„Å™Ê∞ó„Åå„Åô„ÇãÔºÅ‰∫∫ÁîüÂ§â„Çè„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑÔºÅ",
                hints: "Á∂ôÁ∂öÊúüÈñì„ÅÆÁü≠„Åï„ÄÅÁêÜÊÉ≥„Å®ÁèæÂÆü„ÅÆ„ÇÆ„É£„ÉÉ„Éó„ÄÅÈÅéÂ∫¶„Å™ÊúüÂæÖ",
                goodResponses: [
                    "3Êó•„Åß‰∫∫ÁîüÂ§â„Çè„Çã„Å™„Çâ„ÄÅ„Åø„Çì„Å™ÊàêÂäüËÄÖ„Å†„Å≠",
                    "Êù•ÈÄ±„Å´„ÅØ„ÄéÂ§úÊ¥ªÊúÄÈ´òÔºÅ„Äè„Å£„Å¶Ë®Ä„Å£„Å¶„Åù„ÅÜ",
                    "4Êó•ÁõÆ„ÅåÊúÄÂ§ß„ÅÆÂ£Å„Çâ„Åó„ÅÑ„Çà„ÄÅÈ†ëÂºµ„Å£„Å¶"
                ],
                keywords: ["3Êó•", "Á∂ö", "ÁøíÊÖ£", "Êó©„ÅÑ", "„Åæ„Å†", "„Åì„Çå„Åã„Çâ", "Áü≠", "Áîò„ÅÑ"],
                explanation: "„Åæ„Å†3Êó•„Åó„ÅãÁ∂ö„ÅÑ„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„Å´ÁøíÊÖ£Âåñ„ÇíÁ¢∫‰ø°„Åó„Å¶„ÅÑ„ÇãÁÇπ„Çí„ÄÅÂÑ™„Åó„Åè„ÉÑ„ÉÉ„Ç≥„ÇÄ„ÅÆ„Åå„Éù„Ç§„É≥„Éà„ÄÇÁõ∏Êâã„ÇíÂÆåÂÖ®„Å´Âê¶ÂÆö„Åõ„Åö„ÄÅ„É¶„Éº„É¢„Ç¢„Çí‰∫§„Åà„Å¶ÁèæÂÆü„ÇíÊåáÊëò„Åô„Çã„ÄÇ"
            },
            {
                situation: "ÂêåÂÉö„Å®„ÅÆ‰ºöË©±",
                message: "„ÅÜ„Å°„ÅÆ‰ºöÁ§æ„ÄÅÊú¨ÂΩì„Å´ÂäπÁéáÊÇ™„ÅÑ„Å®ÊÄù„ÅÜ„Çì„Åß„Åô„Çà„Å≠„ÄÇ‰ºöË≠∞„Å∞„Å£„Åã„Çä„ÅßÂÆüÈöõ„ÅÆ‰ªï‰∫ã„Åô„ÇãÊôÇÈñì„Åå„Å™„ÅÑ„ÄÇ‰ªäÊó•„ÇÇ‰ºöË≠∞„Åå4„Å§„ÇÇ„ÅÇ„Å£„Å¶„ÄÅ„Åù„ÅÆÊ∫ñÂÇô„ÅßÁµêÂ±Ä‰∏ÄÊó•ÁµÇ„Çè„Å£„Å°„ÇÉ„ÅÑ„Åæ„Åó„Åü„ÄÇ‰ºöË≠∞„ÇíÊ∏õ„Çâ„Åô„Åü„ÇÅ„ÅÆ‰ºöË≠∞„Çí„ÇÑ„Çã„Åπ„Åç„Å†„Å®ÊÄù„ÅÜ„Çì„Åß„Åô„ÄÇ",
                hints: "ÊèêÊ°à„ÅÆÁüõÁõæ„ÄÅ‰ºöË≠∞„Å∏„ÅÆ‰∏çÊ∫Ä„Å®Êñ∞„Åü„Å™‰ºöË≠∞„ÅÆÊèêÊ°à",
                goodResponses: [
                    "„Åù„Çå„ÄÅ„Åæ„Åü‰ºöË≠∞Â¢ó„ÇÑ„Åô„Å£„Å¶„Åì„Å®„Åò„ÇÉ„Å™„ÅÑÔºü",
                    "‰ºöË≠∞„ÇíÊ∏õ„Çâ„Åô‰ºöË≠∞„ÅÆÊ∫ñÂÇô„ÅßÂøô„Åó„Åè„Å™„Çä„Åù„ÅÜ„Å†„Å≠",
                    "„Åù„ÅÆ‰ºöË≠∞„ÅÆÊó•Á®ã„ÇíÊ±∫„ÇÅ„Çã‰ºöË≠∞„Åã„ÇâÂßã„ÇÅ„Å™„ÅÑ„Å®"
                ],
                keywords: ["‰ºöË≠∞", "Â¢ó", "ÁüõÁõæ", "Âêå„Åò", "„Åù„Çå", "„Åæ„Åü", "ÈÄÜÂäπÊûú"],
                explanation: "‰ºöË≠∞„ÇíÊ∏õ„Çâ„Åó„Åü„ÅÑ„ÅÆ„Å´Êñ∞„Åü„Å™‰ºöË≠∞„ÇíÊèêÊ°à„Åó„Å¶„ÅÑ„ÇãÁüõÁõæ„ÇíÊåáÊëò„ÄÇÁõ∏Êâã„ÅÆ‰∏çÊ∫Ä„Å´ÂÖ±ÊÑü„Åó„Å§„Å§„ÄÅÊèêÊ°à„ÅÆÂïèÈ°åÁÇπ„Çí„É¶„Éº„É¢„É©„Çπ„Å´Á§∫„Åô„ÄÇ"
            },
            {
                situation: "ÂÆ∂Êóè„Å®„ÅÆÈ£ü‰∫ã‰∏≠",
                message: "ÊúÄËøë„ÉÄ„Ç§„Ç®„ÉÉ„ÉàÂßã„ÇÅ„Åü„Çì„Å†„Åë„Å©„ÄÅÁ≥ñË≥™Âà∂Èôê„Åå„ÅÑ„ÅÑ„Å£„Å¶ËÅû„ÅÑ„Åü„Åã„Çâ„ÄÅ„ÅîÈ£Ø„ÅØÂçäÂàÜ„Å´„Åó„Å¶„ÄÅ„Åù„ÅÆ‰ª£„Çè„Çä„Å´ÂîêÊèö„Åí„Å®„Åã„ÅäËÇâ„Çí„Åü„Åè„Åï„ÇìÈ£ü„Åπ„Çã„Çà„ÅÜ„Å´„Åó„Å¶„Çã„ÅÆ„ÄÇ„ÅÇ„Å®„ÄÅ„Éá„Ç∂„Éº„Éà„ÅØÂà•ËÖπ„Å†„Åã„ÇâÂ§ß‰∏àÂ§´„Å†„Çà„Å≠„ÄÇ„Ç±„Éº„Ç≠„ÅØÂπ∏„Åõ„Éõ„É´„É¢„É≥„ÅåÂá∫„Çã„Åã„Çâ„ÄÅ„Çπ„Éà„É¨„ÇπÂ§™„Çä„ÇíÈò≤„Åí„Çã„Åó„ÄÇ",
                hints: "„ÉÄ„Ç§„Ç®„ÉÉ„ÉàÊñπÊ≥ï„ÅÆÈÉΩÂêà„ÅÆËâØ„ÅÑËß£Èáà„ÄÅ„Éá„Ç∂„Éº„ÉàÂà•ËÖπÁêÜË´ñ",
                goodResponses: [
                    "„Åù„ÅÆ„ÉÄ„Ç§„Ç®„ÉÉ„Éà„ÄÅ„Ç´„É≠„É™„Éº„ÅØÂà∂Èôê„Åó„Å¶„Å™„ÅÑ„Çì„Å†„Å≠",
                    "Âà•ËÖπ„Å£„Å¶ÈÉΩÂêà„ÅÑ„ÅÑËáìÂô®„Å†„Çà„Å≠„ÄÅÁßÅ„ÇÇÊ¨≤„Åó„ÅÑ",
                    "Âπ∏„Åõ„Éõ„É´„É¢„É≥„ÅßÁó©„Åõ„Çã„Å™„Çâ„ÄÅ„Åø„Çì„Å™„Ç±„Éº„Ç≠È£ü„ÅπÊîæÈ°å„Å†„Å≠"
                ],
                keywords: ["„Ç´„É≠„É™„Éº", "Âà•ËÖπ", "ÈÉΩÂêà", "ÁüõÁõæ", "ÈÄÜ", "Â§™", "ÊÑèÂë≥"],
                explanation: "„ÉÄ„Ç§„Ç®„ÉÉ„Éà„ÅÆÊú¨Ë≥™„ÇíÁêÜËß£„Åõ„Åö„ÄÅÈÉΩÂêà„Çà„ÅèËß£Èáà„Åó„Å¶„ÅÑ„ÇãÁÇπ„ÇíÊåáÊëò„ÄÇ„Éá„Ç∂„Éº„Éà„ÅØÂà•ËÖπ„Å®„ÅÑ„ÅÜË®Ä„ÅÑË®≥„ÇíËªΩÂ¶ô„Å´„ÉÑ„ÉÉ„Ç≥„ÇÄ„ÄÇ"
            },
            {
                situation: "Âèã‰∫∫„Å®„Ç´„Éï„Çß„Åß",
                message: "ÁßÅ„ÄÅ„ÇÅ„Å°„ÇÉ„Åè„Å°„ÇÉÁØÄÁ¥ÑÂÆ∂„Å™„Çì„Å†„Çà„Å≠„ÄÇ„Ç≥„É≥„Éì„Éã„Åß„Éö„ÉÉ„Éà„Éú„Éà„É´Ë≤∑„ÅÜ„ÅÆ„ÇÇ„Å£„Åü„ÅÑ„Å™„ÅÑ„Åã„Çâ„ÄÅ„ÅÑ„Å§„ÇÇÊ∞¥Á≠íÊåÅ„Å°Ê≠©„ÅÑ„Å¶„Çã„Åó„ÄÅÈõªËªä„ÇÇ‰∏ÄÈßÖÂàÜ„ÅØÊ≠©„Åè„Çà„ÅÜ„Å´„Åó„Å¶„Çã„ÄÇ„Åì„ÅÆÂâç„Å™„Çì„Å¶„ÄÅ10ÂÜÜÂÆâ„ÅÑ„ÉÜ„Ç£„ÉÉ„Ç∑„É•Ë≤∑„ÅÜ„Åü„ÇÅ„Å´Èö£Áî∫„Åæ„ÅßË°å„Å£„Åü„Çì„Å†„ÄÇ‰∫§ÈÄöË≤ª500ÂÜÜ„Åã„Åã„Å£„Åü„Åë„Å©„ÄÅ„ÅäÂæó„Å´Ë≤∑„ÅÑÁâ©„Åß„Åç„Å¶Ê∫ÄË∂≥ÔºÅ",
                hints: "ÁØÄÁ¥Ñ„Å®‰∫§ÈÄöË≤ª„ÅÆÁüõÁõæ„ÄÅÊú¨Êú´Ëª¢ÂÄí„Å™Ë°åÂãï",
                goodResponses: [
                    "„Åù„ÅÆÁØÄÁ¥Ñ„ÄÅ490ÂÜÜ„ÅÆËµ§Â≠ó„Å†„Åë„Å©Â§ß‰∏àÂ§´Ôºü",
                    "‰∫§ÈÄöË≤ª„ÇíÁØÄÁ¥Ñ„Åô„ÇãÊñπÊ≥ï„Åã„ÇâÂßã„ÇÅ„ÅüÊñπ„Åå„ÅÑ„ÅÑ„Åã„ÇÇ",
                    "Èö£Áî∫„Åæ„Åß„ÅÆÊï£Ê≠©‰ª£„Å®ÊÄù„Åà„Å∞...„ÅÑ„ÇÑ„ÄÅÈ´ò„ÅÑ„Å™"
                ],
                keywords: ["‰∫§ÈÄöË≤ª", "Ëµ§Â≠ó", "Êêç", "ÁüõÁõæ", "Êú¨Êú´Ëª¢ÂÄí", "Ë®àÁÆó", "ÈÄÜ"],
                explanation: "10ÂÜÜÁØÄÁ¥Ñ„Åô„Çã„Åü„ÇÅ„Å´500ÂÜÜ‰Ωø„Å£„Å¶„ÅÑ„ÇãÁüõÁõæ„ÇíÊåáÊëò„ÄÇÊï∞Â≠ó„Çí‰Ωø„Å£„Å¶ÂÖ∑‰ΩìÁöÑ„Å´ÊêçÂ§±„ÇíÁ§∫„Åô„Å®ÂäπÊûúÁöÑ„ÄÇ"
            },
            {
                situation: "ËÅ∑Â†¥„ÅÆ‰ºëÊÜ©ÂÆ§„Åß",
                message: "Ëã±Ë™û„ÅÆÂãâÂº∑Âßã„ÇÅ„Åü„Çì„Åß„Åô„Çà„ÄÇÊØéÊó•„Ç¢„Éó„É™„Åß5ÂàÜ„Å†„Åë„ÄÇ„Åß„ÇÇ„ÄÅ„Å™„Åã„Å™„Åã‰∏äÈÅî„Åó„Å™„ÅÑ„Çì„Åß„Åô„Çà„Å≠„ÄÇ„ÇÇ„ÅÜ2ÈÄ±Èñì„ÇÇ„ÇÑ„Å£„Å¶„Çã„ÅÆ„Å´„ÄÅÂÖ®ÁÑ∂„Éö„É©„Éö„É©„Å´„Å™„Çâ„Å™„ÅÑ„ÄÇ„ÇÑ„Å£„Å±„ÇäÊó•Êú¨‰∫∫„Å´„ÅØËã±Ë™û„ÅØÂêë„ÅÑ„Å¶„Å™„ÅÑ„ÅÆ„Åã„Å™„ÄÇ„Åù„Çå„Åã„ÄÅ„Åì„ÅÆ„Ç¢„Éó„É™„ÅåÊÇ™„ÅÑ„ÅÆ„Åã„ÇÇ„ÄÇ„ÇÇ„Å£„Å®È´ò„ÅÑÊïôÊùêË≤∑„Å£„ÅüÊñπ„Åå„ÅÑ„ÅÑ„Åß„Åô„Åã„Å≠Ôºü",
                hints: "ÊúüÂæÖ„Å®Âä™Âäõ„ÅÆ„ÇÆ„É£„ÉÉ„Éó„ÄÅ2ÈÄ±Èñì„ÅßÁµêÊûú„ÇíÊ±Ç„ÇÅ„ÇãÊÄßÊÄ•„Åï",
                goodResponses: [
                    "2ÈÄ±Èñì„ÅßÂêàË®à70ÂàÜ...„Åù„Çä„ÇÉÂé≥„Åó„ÅÑ„Çà„Å≠",
                    "„Åù„ÅÆË™øÂ≠ê„Å†„Å®„ÄÅ„Éö„É©„Éö„É©„Åæ„Åß„ÅÇ„Å®10Âπ¥„Åã„Å™",
                    "1Êó•5ÂàÜ„Å™„Çâ„ÄÅÊå®Êã∂„Éû„Çπ„Çø„Éº„Åô„Çã„ÅÆ„ÇÇÊù•Âπ¥„Å†„Å≠"
                ],
                keywords: ["2ÈÄ±Èñì", "5ÂàÜ", "Áü≠„ÅÑ", "Â∞ë„Å™„ÅÑ", "ÁÑ°ÁêÜ", "ÊôÇÈñì", "Ë∂≥„Çä„Å™„ÅÑ"],
                explanation: "1Êó•5ÂàÜ„Çí2ÈÄ±ÈñìÔºàË®à70ÂàÜÔºâ„Åß„Éö„É©„Éö„É©„ÇíÊúüÂæÖ„Åô„ÇãÈùûÁèæÂÆüÁöÑ„Å™ÊúüÂæÖ„Çí„ÄÅÂÖ∑‰ΩìÁöÑ„Å™Êï∞Â≠ó„ÅßÁ§∫„Åó„Å¶ÊåáÊëò„ÄÇ"
            },
            {
                situation: "„É©„É≥„ÉÅ„Çø„Ç§„É†",
                message: "ÁßÅ„ÄÅ„Åô„Åî„ÅèÂÅ•Â∫∑„Å´Ê∞ó„Çí‰Ωø„Å£„Å¶„Çã„Çì„Åß„Åô„ÄÇÊØéÊó•„Çµ„É©„ÉÄÈ£ü„Åπ„Å¶„Çã„Åó„ÄÅÈÄ±Êú´„ÅØ„Ç∏„É†„ÇÇË°å„Å£„Å¶„Åæ„Åô„ÄÇ„Åæ„ÅÇ„ÄÅ„Ç∏„É†„ÅÆÂæå„ÅØ„ÅÑ„Å§„ÇÇ„É©„Éº„É°„É≥È£ü„Åπ„Å°„ÇÉ„ÅÜ„Çì„Åß„Åô„Åë„Å©„Å≠„ÄÅÈÅãÂãï„Åó„ÅüÂæå„Å†„Åã„Çâ„Ç´„É≠„É™„Éº„Çº„É≠„Åß„Åô„Çà„Å≠„ÄÇ„ÅÇ„Å®„ÄÅ„Çµ„É©„ÉÄ„Å´„Åã„Åë„Çã„Éâ„É¨„ÉÉ„Ç∑„É≥„Ç∞„ÅØÂ•Ω„Åç„Å™„Å†„Åë„Åã„Åë„Å¶„Åæ„Åô„ÄÇÈáéËèú„Å†„Åã„ÇâÂ§™„Çâ„Å™„ÅÑ„Åó„ÄÇ",
                hints: "ÂÅ•Â∫∑„Å∏„ÅÆÊ∞óÈÅ£„ÅÑ„Å®ÂÆüÈöõ„ÅÆË°åÂãï„ÅÆÁüõÁõæ",
                goodResponses: [
                    "„Åù„ÅÆ„Ç´„É≠„É™„Éº„Çº„É≠ÁêÜË´ñ„ÄÅÁâπË®±Âèñ„Çå„Åù„ÅÜ„Å†„Å≠",
                    "„Ç∏„É†„ÅØ„É©„Éº„É°„É≥Â±ã„Å∏„ÅÆÈÄö„ÇäÈÅì„Å™„Çì„Å†",
                    "„Éâ„É¨„ÉÉ„Ç∑„É≥„Ç∞„Åå‰∏ªÈ£ü„Åß„Çµ„É©„ÉÄ„Åå‰ªò„ÅëÂêà„Çè„Åõ„Å´„Å™„Å£„Å¶„Å™„ÅÑÔºü"
                ],
                keywords: ["„Ç´„É≠„É™„Éº", "„Çº„É≠", "ÁüõÁõæ", "ÊÑèÂë≥", "ÈÄÜ", "„É©„Éº„É°„É≥", "„Éâ„É¨„ÉÉ„Ç∑„É≥„Ç∞"],
                explanation: "ÂÅ•Â∫∑„ÇíÊÑèË≠ò„Åó„Å¶„ÅÑ„Çã„Å®Ë®Ä„ÅÑ„Å™„Åå„Çâ„ÄÅÂÆüÈöõ„ÅÆË°åÂãï„Åå‰º¥„Å£„Å¶„ÅÑ„Å™„ÅÑÁüõÁõæ„Çí„É¶„Éº„É¢„É©„Çπ„Å´ÊåáÊëò„ÄÇ"
            },
            {
                situation: "Ë≤∑„ÅÑÁâ©Â∏∞„Çä",
                message: "Êñ≠Êç®Èõ¢„Å´„Éè„Éû„Å£„Å¶„Å¶„Åï„ÄÅ„Åì„ÅÆÂâç„ÇÇÂ§ßÈáè„Å´Êúç„ÇíÂá¶ÂàÜ„Åó„Åü„Çì„Å†„ÄÇ„ÇØ„É≠„Éº„Çº„ÉÉ„Éà„Åå„Çπ„ÉÉ„Ç≠„É™„Åó„Å¶Ê∞óÊåÅ„Å°„ÅÑ„ÅÑÔºÅ„Åù„Çå„Åß„ÄÅÁ©∫„ÅÑ„Åü„Çπ„Éö„Éº„Çπ„Åå„Åß„Åç„Åü„Åã„Çâ„ÄÅ‰ªäÊó•„Çª„Éº„É´„ÅßÊúç„Çí10ÁùÄ„ÇÇË≤∑„Å£„Å°„ÇÉ„Å£„Åü„ÄÇ„Å†„Å£„Å¶„ÄÅ70%„Ç™„Éï„Å†„ÇàÔºüË≤∑„Çè„Å™„ÅÑÁêÜÁî±„Åå„Å™„ÅÑ„Åß„Åó„Çá„ÄÇ„Åì„Çå„Åß„Åæ„ÅüÊñ≠Êç®Èõ¢„Åß„Åç„Çã„Åó„ÄÅ‰∏ÄÁü≥‰∫åÈ≥•ÔºÅ",
                hints: "Êñ≠Êç®Èõ¢„ÅÆÁõÆÁöÑ„Å®ÁúüÈÄÜ„ÅÆË°åÂãï„ÄÅ„Çª„Éº„É´„ÅÆË™òÊÉë",
                goodResponses: [
                    "Êñ≠Êç®Èõ¢„Å£„Å¶„ÄÅÁâ©„ÇíÊ∏õ„Çâ„Åô„Åü„ÇÅ„Åò„ÇÉ„Å™„Åã„Å£„Åü„Å£„ÅëÔºü",
                    "„Åù„ÅÆ„Çµ„Ç§„ÇØ„É´„ÄÅÊúçÂ±ã„Åï„Çì„ÅØÂ§ßÂñú„Å≥„Å†„Å≠",
                    "Ê∞∏‰πÖÊ©üÈñ¢„Åø„Åü„ÅÑ„Å™Êñ≠Êç®Èõ¢„Ç∑„Çπ„ÉÜ„É†„Å†„Å≠"
                ],
                keywords: ["Êñ≠Êç®Èõ¢", "Ë≤∑", "ÁüõÁõæ", "ÈÄÜ", "„Çµ„Ç§„ÇØ„É´", "ÊÑèÂë≥", "Â¢ó"],
                explanation: "Êñ≠Êç®Èõ¢„ÅßÁ©∫„Åë„Åü„Çπ„Éö„Éº„Çπ„Å´„Åæ„ÅüÁâ©„ÇíË≤∑„ÅÜÁüõÁõæ„Åó„Åü„Çµ„Ç§„ÇØ„É´„ÇíÊåáÊëò„ÄÇ"
            },
            {
                situation: "SNS„ÅÆË©±È°å",
                message: "„Ç§„É≥„Çπ„ÇøÊò†„Åà„Åô„ÇãÁîüÊ¥ª„Åó„Å¶„Çã„Çà„Äú„ÄÇÊØéÊó•ÈÅï„ÅÜ„Ç´„Éï„ÇßË°å„Å£„Å¶„ÄÅ„Åä„Åó„ÇÉ„Çå„Å™ÂÜôÁúüÊíÆ„Å£„Å¶„Çã„ÄÇÊò®Êó•„Å™„Çì„Å¶„ÄÅ„Ç≥„Éº„Éí„Éº1ÊùØ„Å´30ÂàÜ„Åã„Åë„Å¶ËßíÂ∫¶Ë™øÊï¥„Åó„Å¶„ÄÅ„Éï„Ç£„É´„Çø„Éº20ÂÄãË©¶„Åó„Å¶„ÄÅÁµêÂ±Ä„Ç≥„Éº„Éí„ÉºÂÜ∑„ÇÅ„Å°„ÇÉ„Å£„Å¶È£≤„Åæ„Å™„Åã„Å£„Åü„Åë„Å©„ÄÅ„ÅÑ„ÅÑ„Å≠200ÂÄã„Å§„ÅÑ„Åü„Åã„ÇâÊ∫ÄË∂≥ÔºÅÂÆüÈöõ„ÅÆÂë≥ÔºüË¶ö„Åà„Å¶„Å™„ÅÑ„ÇÑ„ÄÇ",
                hints: "Êú¨Êù•„ÅÆÁõÆÁöÑ„ÇíË¶ãÂ§±„Å£„Å¶„ÅÑ„Çã„ÄÅÊú¨Êú´Ëª¢ÂÄí",
                goodResponses: [
                    "„Åù„ÅÆ„Ç´„Éï„Çß„ÄÅÂÜôÁúü„Çπ„Çø„Ç∏„Ç™„Å®„Åó„Å¶‰Ωø„Å£„Å¶„Çã„Çì„Å†„Å≠",
                    "„Ç≥„Éº„Éí„Éº„ÅÆÂë≥„Çà„Çä„Äé„ÅÑ„ÅÑ„Å≠„Äè„ÅÆÂë≥„ÇíÊ•Ω„Åó„Çì„Åß„Çã„ÅÆ„Åã",
                    "30ÂàÜ„Åã„Åë„Å¶ÂÜ∑„ÇÅ„Åü„Ç≥„Éº„Éí„Éº„ÅÆÂÜôÁúü„ÄÅ„Åù„Çå„ÅØ„Åù„Çå„ÅßÊò†„Åà„Åù„ÅÜ"
                ],
                keywords: ["Êú¨Êú´Ëª¢ÂÄí", "ÂÜôÁúü", "Âë≥", "ÂÜ∑", "ÊÑèÂë≥", "ÁõÆÁöÑ", "„ÅÑ„ÅÑ„Å≠"],
                explanation: "„Ç´„Éï„Çß„ÅÆÊú¨Êù•„ÅÆÁõÆÁöÑÔºà„Ç≥„Éº„Éí„Éº„ÇíÊ•Ω„Åó„ÇÄÔºâ„ÇíÂøò„Çå„Å¶„ÄÅÂÜôÁúüÊíÆÂΩ±„Å´Â§¢‰∏≠„Å´„Å™„Å£„Å¶„ÅÑ„ÇãÁÇπ„ÇíÁöÆËÇâ„Çã„ÄÇ"
            },
            {
                situation: "‰ªï‰∫ã„ÅÆÊÑöÁó¥",
                message: "„ÅÜ„Å°„ÅÆ‰∏äÂè∏„ÄÅÊú¨ÂΩì„Å´ÊôÇ‰ª£ÈÅÖ„Çå„Å™„Çì„Åß„Åô„Çà„ÄÇ„ÅÑ„Åæ„Å†„Å´Á¥ô„ÅßË≥áÊñô‰Ωú„Çå„Å£„Å¶Ë®Ä„ÅÜ„Åó„ÄÅ„É°„Éº„É´„Çà„ÇäÈõªË©±„ÅÆÊñπ„ÅåÊó©„ÅÑ„Å®„ÅãË®Ä„Å£„Å¶„ÄÅÁµêÂ±ÄÈõªË©±„ÅÆÂÜÖÂÆπ„Çí„É°„Éº„É´„Åß„ÇÇÈÄÅ„Çå„Å£„Å¶...ÂäπÁéáÂåñ„Å®„ÅãÂÖ®ÁÑ∂ËÄÉ„Åà„Å¶„Å™„ÅÑ„ÄÇÁßÅ„Å™„ÇâÂÖ®ÈÉ®„Éá„Ç∏„Çø„É´Âåñ„Åó„Å¶„ÄÅ‰ºöË≠∞„ÇÇÂÖ®ÈÉ®„Ç™„É≥„É©„Ç§„É≥„Å´„Åó„Å¶„ÄÅ„Åß„ÇÇÈáçË¶Å„Å™Ë©±„ÅØÂØæÈù¢„Åå„ÅÑ„ÅÑ„Åã„Çâ„ÄÅÁµêÂ±Ä‰ªä„Å®Â§â„Çè„Çâ„Å™„ÅÑ„Åã„ÇÇ„ÄÇ",
                hints: "ÊâπÂà§„Åó„Å™„Åå„ÇâÂêå„ÅòÁµêË´ñ„Å´Ëá≥„Çã„ÄÅÊîπÂñÑÊ°à„ÅÆÊõñÊòß„Åï",
                goodResponses: [
                    "ÁµêÂ±Ä„ÄÅ‰ªä„ÅÆ‰∏äÂè∏„Å®Âêå„ÅòÁµêË´ñ„Åò„ÇÉ„Å™„ÅÑÔºü",
                    "‰∏ÄÂë®Âõû„Å£„Å¶‰∏äÂè∏„ÅÆËÄÉ„Åà„Å´Ëæø„ÇäÁùÄ„ÅÑ„Åü„Å≠",
                    "„Åù„ÅÆÊîπÈù©„ÄÅÁèæÁä∂Á∂≠ÊåÅ„Å£„Å¶ÂêçÂâç„Å†„Çà"
                ],
                keywords: ["Âêå„Åò", "ÁµêÂ±Ä", "Â§â„Çè„Çâ„Å™„ÅÑ", "‰∏ÄÂë®", "ÁüõÁõæ", "ÁèæÁä∂Á∂≠ÊåÅ"],
                explanation: "‰∏äÂè∏„ÇíÊâπÂà§„Åó„Å™„Åå„Çâ„ÄÅËá™ÂàÜ„ÅÆÊîπÂñÑÊ°à„ÇÇÁµêÂ±ÄÂêå„Åò„Å®„Åì„Çç„Å´Ë°å„ÅçÁùÄ„ÅÑ„Å¶„ÅÑ„ÇãÁüõÁõæ„ÇíÊåáÊëò„ÄÇ"
            },
            {
                situation: "ÊÅãÊÑõÁõ∏Ë´á",
                message: "ÁßÅ„ÄÅ„Åô„Åî„ÅèËá™Á´ã„Åó„Å¶„ÇãÂ•≥ÊÄß„Å™„ÅÆ„ÄÇË™∞„Å´„ÇÇ‰æùÂ≠ò„Åó„Å™„ÅÑ„Åó„ÄÅ‰∏Ä‰∫∫„Åß‰Ωï„Åß„ÇÇ„Åß„Åç„Çã„ÄÇ„Åß„ÇÇÂΩºÊ∞è„Å´„ÅØÊØéÊó•LINE„ÅÆËøî‰ø°Êó©„Åè„Åó„Å¶Ê¨≤„Åó„ÅÑ„Åó„ÄÅÈÄ±Êú´„ÅØÂøÖ„Åö‰ºö„ÅÑ„Åü„ÅÑ„Åó„ÄÅÁßÅ„ÅÆ„Åì„Å®‰∏ÄÁï™„Å´ËÄÉ„Åà„Å¶Ê¨≤„Åó„ÅÑ„ÄÇ„ÅÇ„Å®„ÄÅË®òÂøµÊó•„ÅØÂÖ®ÈÉ®Ë¶ö„Åà„Å¶„Å¶„Çµ„Éó„É©„Ç§„Ç∫„Åó„Å¶Ê¨≤„Åó„ÅÑ„Å™„ÄÇ„Åß„ÇÇÊùüÁ∏õ„Åô„ÇãÂ•≥„ÅØÂ´å„ÅÑ„Å£„Å¶Ë®Ä„Å£„Å¶„Çã„Åã„Çâ„ÄÅÁßÅ„ÅØÈÅï„ÅÜ„Çà„Å≠Ôºü",
                hints: "Ëá™Á´ã„Åó„Å¶„ÅÑ„Çã„Å®Ë®Ä„ÅÑ„Å™„Åå„Çâ‰æùÂ≠òÁöÑ„Å™Ë¶ÅÊ±Ç",
                goodResponses: [
                    "„Åù„ÅÆËá™Á´ã„ÄÅÂΩºÊ∞è„Å´„ÅØÈÅ©Áî®„Åï„Çå„Å™„ÅÑ„Ç∑„Çπ„ÉÜ„É†„Å™„Çì„Å†",
                    "ÊùüÁ∏õ„ÅÆÂÆöÁæ©„ÄÅËæûÊõ∏„ÅßË™ø„Åπ„ÅüÊñπ„Åå„ÅÑ„ÅÑ„Åã„ÇÇ",
                    "Ëá™Á´ã„Åó„Å¶„Çã‰∫∫„ÅÆË¶ÅÊ±Ç„É™„Çπ„Éà„ÄÅ„Åô„Åî„Åè‰æùÂ≠òÁöÑ„Å†„Å≠"
                ],
                keywords: ["‰æùÂ≠ò", "ÊùüÁ∏õ", "ÁüõÁõæ", "Ëá™Á´ã", "Ë¶ÅÊ±Ç", "ÈÅï„ÅÜ", "ÈÄÜ"],
                explanation: "Ëá™Á´ã„Çí‰∏ªÂºµ„Åó„Å™„Åå„Çâ„ÄÅÂÆüÈöõ„ÅØ‰æùÂ≠òÁöÑ„ÅßÊùüÁ∏õÁöÑ„Å™Ë¶ÅÊ±Ç„Çí„Åó„Å¶„ÅÑ„ÇãÁüõÁõæ„ÇíÂÑ™„Åó„ÅèÊåáÊëò„ÄÇ"
            }
        ];

        let currentConversation = null;
        let totalScore = 0;
        let practiceCount = 0;
        let scores = [];
        let currentRound = 0;
        let usedHint = false;

        function nextConversation() {
            currentRound++;
            practiceCount++;
            
            // „É©„É≥„ÉÄ„É†„Å´‰ºöË©±„ÇíÈÅ∏Êäû
            currentConversation = conversations[Math.floor(Math.random() * conversations.length)];
            
            // UI„É™„Çª„ÉÉ„Éà
            document.getElementById('situationTag').textContent = currentConversation.situation;
            document.getElementById('friendMessage').textContent = currentConversation.message;
            document.getElementById('responseInput').value = '';
            document.getElementById('responseInput').disabled = false;
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('hintBtn').disabled = false;
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('evaluationArea').classList.remove('show');
            document.getElementById('hintBox').classList.remove('show');
            usedHint = false;
            
            // Áµ±Ë®àÊõ¥Êñ∞
            document.getElementById('practiceCount').textContent = practiceCount;
            document.getElementById('currentRound').textContent = currentRound;
            
            // ÂÖ•ÂäõÊ¨Ñ„Å´„Éï„Ç©„Éº„Ç´„Çπ
            document.getElementById('responseInput').focus();
        }

        function submitResponse() {
            const userResponse = document.getElementById('responseInput').value.trim();
            
            if (!userResponse) {
                alert('Ëøî„Åó„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ');
                return;
            }
            
            // Ë©ï‰æ°
            const score = evaluateResponse(userResponse);
            displayEvaluation(score, userResponse);
            
            // „Çπ„Ç≥„Ç¢Êõ¥Êñ∞
            totalScore += score;
            scores.push(score);
            updateStats();
            
            // „Éú„Çø„É≥Áä∂ÊÖãÊõ¥Êñ∞
            document.getElementById('responseInput').disabled = true;
            document.getElementById('submitBtn').disabled = true;
            document.getElementById('hintBtn').disabled = true;
            document.getElementById('nextBtn').disabled = false;
        }

        function evaluateResponse(response) {
            const lowerResponse = response.toLowerCase();
            let score = 40; // Âü∫Á§éÁÇπ
            let matchedKeywords = 0;
            
            // „Ç≠„Éº„ÉØ„Éº„Éâ„Éû„ÉÉ„ÉÅ„É≥„Ç∞
            for (const keyword of currentConversation.keywords) {
                if (lowerResponse.includes(keyword)) {
                    matchedKeywords++;
                }
            }
            
            // „Çπ„Ç≥„Ç¢Ë®àÁÆó
            score += matchedKeywords * 15;
            
            // Ëøî„Åó„ÅÆË≥™„ÇíË©ï‰æ°
            if (response.length >= 20 && response.length <= 60) {
                score += 10; // ÈÅ©Âàá„Å™Èï∑„Åï
            }
            
            // ÁñëÂïèÂΩ¢„ÅßËøî„Åó„Å¶„ÅÑ„ÇãÂ†¥Âêà
            if (response.includes('Ôºü') || response.includes('?')) {
                score += 5;
            }
            
            // „É¶„Éº„É¢„Ç¢Ë¶ÅÁ¥†ÔºàÁöÆËÇâ„ÄÅÊØîÂñ©„ÇíÂê´„ÇÄÂ†¥ÂêàÔºâ
            const humorWords = ['„Åø„Åü„ÅÑ', '„Åù„ÅÜ', '„Åã„ÇÇ', '„Å†„Å≠', '„Åò„ÇÉ„Å™„ÅÑ', '„Å®„ÅÑ„ÅÜ', '„Å£„Å¶'];
            for (const word of humorWords) {
                if (lowerResponse.includes(word)) {
                    score += 3;
                    break;
                }
            }
            
            // „Éí„É≥„Éà‰ΩøÁî®„Éö„Éä„É´„ÉÜ„Ç£
            if (usedHint) {
                score = Math.floor(score * 0.8);
            }
            
            return Math.min(score, 100);
        }

        function displayEvaluation(score, userResponse) {
            const evaluationArea = document.getElementById('evaluationArea');
            const scoreNumber = document.getElementById('scoreNumber');
            const scoreMessage = document.getElementById('scoreMessage');
            const userResponseDiv = document.getElementById('userResponse');
            const goodExample = document.getElementById('goodExample');
            const explanation = document.getElementById('explanation');
            const skillBadges = document.getElementById('skillBadges');
            
            // „Çπ„Ç≥„Ç¢Ë°®Á§∫
            scoreNumber.textContent = score;
            
            // „É°„ÉÉ„Çª„Éº„Ç∏
            let message = '';
            let badges = [];
            
            if (score >= 90) {
                message = 'ÂÆåÁíßÔºÅ„Éó„É≠„É¨„Éô„É´„ÅÆËøî„Åó„Åß„ÅôÔºÅ';
                badges = ['Èã≠„ÅÑË¶≥ÂØüÁúº', '„É¶„Éº„É¢„Ç¢„Çª„É≥„Çπ', 'ÁöÑÁ¢∫„Å™ÊåáÊëò'];
            } else if (score >= 75) {
                message = 'Á¥†Êô¥„Çâ„Åó„ÅÑÔºÅ„Ç≠„É¨„ÅÆ„ÅÇ„ÇãËøî„Åó„Åß„ÅôÔºÅ';
                badges = ['ËâØ„ÅÑÁùÄÁúºÁÇπ', '„Ç¶„Ç£„ÉÉ„Éà'];
            } else if (score >= 60) {
                message = '„ÅÑ„ÅÑÊÑü„ÅòÔºÅ„ÇÇ„ÅÜÂ∞ë„ÅóÈã≠„Åï„ÅåÊ¨≤„Åó„ÅÑÔºÅ';
                badges = ['Ë¶≥ÂØüÂäõ'];
            } else if (score >= 45) {
                message = '„Åæ„Åö„Åæ„Åö„ÄÇÁüõÁõæÁÇπ„ÇíË¶ã„Å§„Åë„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü';
                badges = ['Âä™ÂäõË≥û'];
            } else {
                message = 'Á∑¥Áøí„ÅÇ„Çã„ÅÆ„ÅøÔºÅÁõ∏Êâã„ÅÆË©±„Çí„Çà„ÅèËÅû„ÅÑ„Å¶„Åø„Çà„ÅÜ';
                badges = ['„ÉÅ„É£„É¨„É≥„Ç∏„É£„Éº'];
            }
            
            scoreMessage.textContent = message;
            userResponseDiv.textContent = userResponse;
            
            // ËâØ„ÅÑ‰æã„ÇíË°®Á§∫
            const exampleIndex = Math.floor(Math.random() * currentConversation.goodResponses.length);
            goodExample.textContent = currentConversation.goodResponses[exampleIndex];
            
            // Ëß£Ë™¨
            explanation.textContent = currentConversation.explanation;
            
            // „Çπ„Ç≠„É´„Éê„ÉÉ„Ç∏Ë°®Á§∫
            skillBadges.innerHTML = '';
            badges.forEach(badge => {
                const badgeDiv = document.createElement('div');
                badgeDiv.className = 'skill-badge';
                badgeDiv.textContent = badge;
                skillBadges.appendChild(badgeDiv);
            });
            
            evaluationArea.classList.add('show');
        }

        function showHint() {
            const hintBox = document.getElementById('hintBox');
            const hintText = document.getElementById('hintText');
            
            hintText.textContent = currentConversation.hints;
            hintBox.classList.add('show');
            usedHint = true;
            
            document.getElementById('hintBtn').disabled = true;
        }

        function updateStats() {
            document.getElementById('totalScore').textContent = totalScore;
            
            if (scores.length > 0) {
                const average = Math.round(scores.reduce((a, b) => a + b, 0) / scores.length);
                document.getElementById('averageScore').textContent = average;
            }
        }

        // Enter„Ç≠„Éº„ÅßÈÄÅ‰ø°ÔºàShift+Enter„ÅØÊîπË°åÔºâ
        document.getElementById('responseInput').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !this.disabled) {
                e.preventDefault();
                submitResponse();
            }
        });
    </script>
</body>
</html>